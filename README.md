# Intel Compiler 2019 bug test code

## Compilation commands

### GCC

```
g++ ./test_q.cpp nr_jacobi.cpp -o test_gcc -O2
```

### ICC

```
icpc test_q.cpp nr_jacobi.cpp -o test_icpc -std=c++11
```

## Correct result

```
======================= RUN TEST1 =======================
Eigenvalues:   1.6734544e+06  -1.1099619e+05  -5.9837731e+05  -9.6408085e+05
Eigenvectors:
  9.9977464e-01   1.5017303e-02   2.4917612e-03  -1.4796439e-02
 -1.2700299e-02   3.3183891e-01   8.6522484e-01  -3.7564292e-01
  1.5677570e-02  -3.1439531e-01   4.7706204e-01   8.2056177e-01
 -6.6014449e-03   8.8927668e-01  -1.5424516e-01   4.3052508e-01
Leading eigenvector:   9.9977464e-01  -1.2700299e-02   1.5677570e-02  -6.6014449e-03

======================= RUN TEST2 =======================
Eigenvalues:   4.1743913e+01   2.4653941e+01  -2.9223072e+01  -3.7174781e+01
Eigenvectors:
  9.9766773e-01  -4.3032977e-02  -4.2885710e-02  -3.1113820e-02
  4.8456480e-02   1.4316044e-01   3.0034374e-01   9.4178060e-01
  1.2543556e-02  -4.2802319e-01   8.7761860e-01  -2.1546322e-01
  4.6408187e-02   8.9131891e-01   3.7113346e-01  -2.5623590e-01
Leading eigenvector:   9.9766773e-01   4.8456480e-02   1.2543556e-02   4.6408187e-02
theta =   1.1764250e+00 phi =   5.6166329e+00 psi =   5.3842887e+00
```

## Wrong result

```
======================= RUN TEST1 =======================
Eigenvalues:   1.6728368e+06  -1.1087165e+05  -5.9803351e+05  -9.6393168e+05
Eigenvectors:
  9.9992003e-01  -3.4211308e-03  -9.8132132e-03   7.2055759e-03
  1.2335787e-02   3.3159018e-01   8.6502392e-01  -3.7633682e-01
 -2.3009850e-03  -3.1488320e-01   4.7758127e-01   8.2021912e-01
 -1.5676189e-03   8.8931705e-01  -1.5347135e-01   4.3076591e-01
Leading eigenvector:   9.9992003e-01   1.2335787e-02  -2.3009850e-03  -1.5676189e-03

======================= RUN TEST2 =======================
Eigenvalues:   4.1692215e+01   2.4637614e+01  -2.9180526e+01  -3.7149303e+01
Eigenvectors:
  9.9908600e-01  -1.0474355e-03  -3.1061496e-02   2.9346989e-02
 -1.8659065e-02   1.2910703e-01   2.9096477e-01   9.4779888e-01
  3.2564030e-02  -4.4928939e-01   8.6895734e-01  -2.0491894e-01
  2.0459291e-02   8.8400754e-01   3.9910879e-01  -2.4253714e-01
Leading eigenvector:   9.9908600e-01  -1.8659065e-02   3.2564030e-02   2.0459291e-02
theta =   3.7746277e+00 phi =  -2.0647970e+00 psi =   2.2782329e+00
```
